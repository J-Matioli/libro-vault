<form class="form" [formGroup]="form">
    <mat-form-field class="form__work" appearance="fill">
        <mat-label>Obra</mat-label>
        <input matInput type="text" formControlName="obra">
    </mat-form-field>

    <app-custom-chip 
            [options]="authorOptions"
            [control]="autor"
            [placeholder]="'Procurar autor'"
            [label]="'Autor'"
            class="form__author">
    </app-custom-chip>

    <app-custom-button (clickButton)="addAuthor()" class="form__author-button" color="accent">Cadastrar autor</app-custom-button>

    <mat-form-field class="form__publisher" appearance="fill">
        <mat-label>Editora</mat-label>
        <input type="text"
               placeholder="Selecione uma editora"
               formControlName="editora"
               aria-label="Number"
               matInput
               [matAutocomplete]="publisherAuto">
        <mat-autocomplete autoActiveFirstOption #publisherAuto="matAutocomplete" [displayWith]="displayAutoComplete">
          <mat-option *ngFor="let option of publisherOptions" [value]="option">
            {{ option.viewValue }}
          </mat-option>
        </mat-autocomplete>
    </mat-form-field>

    <app-custom-button (clickButton)="addPublisher()" class="form__publisher-button" color="accent">Cadastrar editora</app-custom-button>
    
    <app-custom-select
        [reset]="false"
        [multiple]="true"
        [label]="'Idioma'"
        [control]="idioma"
        [options]="languageOptions"
        class="form__language">
    </app-custom-select>

    <app-img-cropper (newImage)="croppedImage($event)" class="form__img-cropper" ></app-img-cropper>

    <mat-form-field appearance="fill" class="form__notations">
        <mat-label>Anotações</mat-label>
        <textarea matInput style="height: 133px;" formControlName="anotacoes"></textarea>
    </mat-form-field>

    <app-custom-chip 
        [options]="genresOptions"
        [placeholder]="'Procurar gêneros'"
        [label]="'Gêneros'"
        [control]="generos"
        class="form__genre">
    </app-custom-chip>

    <app-custom-button (clickButton)="addGenre()" class="form__genre-button" color="accent">Cadastrar gênero</app-custom-button>

    <mat-checkbox class="form__unique" formControlName="volumeUnico">Volume único?</mat-checkbox>
    
    <ng-container [ngTemplateOutlet]="workType != 'livro' && !volumeUnico.value ? workVolums : workMoreInfo"></ng-container>
    
    <ng-template #workMoreInfo>
        <app-more-info-form formGroupName="maisInfo" class="form__more-info"></app-more-info-form>
    </ng-template>

    <ng-template #workVolums>
        <div class="form__volume">
            <app-custom-title title="Volumes" class="form__volume-title">
                <app-custom-button (clickButton)="addVol()" color="accent">Adicionar</app-custom-button>
            </app-custom-title>
    
            <ng-container>
                <ng-container>
                    <app-volume-form class="form__volume-form"></app-volume-form>
                </ng-container>
            </ng-container>    
        </div>
    </ng-template>
</form>